<!DOCTYPE html>
<html>
<head>
  <title>Weather App</title>
  <style>
    body { font-family: sans-serif; margin: 30px; }
    h1 { color: #007BFF; }
    #result { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>Weather Info</h1>
  <form id="form">
    <input type="text" id="location" placeholder="Enter city (e.g., Chennai)" required>
    <button type="submit">Get Weather</button>
  </form>
  <div id="result"></div>

  <script>
    const form = document.getElementById('form');
    const result = document.getElementById('result');

    form.onsubmit = async (e) => {
      e.preventDefault();
      const loc = document.getElementById('location').value;
      const res = await fetch(`/weather?location=${loc}`);
      const data = await res.json();

      result.innerHTML = data.error
        ? `<p style="color:red">${data.error}</p>`
        : `<p><b>City:</b> ${data.city}</p>
           <p><b>Temp:</b> ${data.temp}</p>
           <p><b>Weather:</b> ${data.desc}</p>`;
    };
  </script>
</body>
</html>
